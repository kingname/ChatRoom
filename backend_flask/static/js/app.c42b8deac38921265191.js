webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(t){n("gsu9")},null,null).exports,i=n("/ocq"),r={name:"room",data:function(){return{msg:[],userName:"",Content:"",Cid:0}},mounted:function(){this.Cid=this.$md5(Date.now().toString()),console.log(this.Cid),this.get_content_list()},methods:{scrollToEnd:function(){var t=this.$el.querySelector(".panel-body");console.log(t.scrollHeight),t.scrollTop=t.scrollHeight},get_content_list:function(){var t=this;this.$ajax({method:"get",url:"/content"}).then(function(e){var n=e.data;t.msg=n,t.scrollToEnd()})},submit:function(){var t=this;this.userName.trim()&&this.Content.trim()||alert("姓名和内容不能为空！");var e=Date.now(),n=new Date(e),s=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();this.$ajax({method:"post",url:"/submit",data:{username:this.userName,content:this.Content,create_time:s,cid:this.Cid},headers:{"Content-Type":"application/json"}}).then(function(e){e.data.result&&(t.get_content_list(),t.Content="")})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"columns col-10 col-mx-auto"},[n("div",{staticClass:"column col-12 col-xs-12",attrs:{id:"content"}},[n("div",{staticClass:"panel",staticStyle:{height:"600px"}},[t._m(0),t._v(" "),n("div",{staticClass:"panel-body",staticStyle:{overflow:"auto"}},t._l(t.msg,function(e){return n("div",{key:e._id,staticClass:"columns"},[n("div",{staticClass:"user_name"},[t.Cid!=e.cid?n("span",{staticClass:"label label-secondary"},[t._v(t._s(e.username))]):n("span",{staticClass:"label label-success"},[t._v(t._s(e.username))])]),t._v(" "),n("div",{staticClass:"text-gray"},[n("span",{staticClass:"label"},[t._v(t._s(e.create_time))])]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"float-right"},[t._v(t._s(e.content))])])})),t._v(" "),n("div",{staticClass:"panel-footer"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"form-input col-2",attrs:{type:"text",placeholder:"name"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Content,expression:"Content"}],staticClass:"form-input",attrs:{type:"text",name:"content",placeholder:"Hello"},domProps:{value:t.Content},on:{input:function(e){e.target.composing||(t.Content=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-primary input-group-btn",on:{click:t.submit}},[t._v("Send")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-header"},[e("div",{staticClass:"panel-title"},[this._v("匿名聊天群")])])}]};var c=n("VU/8")(r,l,!1,function(t){n("ss89")},"data-v-1ba81aed",null).exports;s.a.use(i.a);var u=new i.a({routes:[{path:"/",name:"room",component:c}]}),d=n("mtWM"),m=n.n(d),p=n("NC6I"),v=n.n(p);n("oIPS"),s.a.config.productionTip=!1,s.a.prototype.$ajax=m.a,s.a.prototype.$md5=v.a,new s.a({el:"#app",router:u,components:{App:o},template:"<App/>"})},gsu9:function(t,e){},oIPS:function(t,e){},ss89:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c42b8deac38921265191.js.map